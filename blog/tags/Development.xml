<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title><![CDATA[Clarabridge Engage Dev Blog]]></title>
    <link href="/blog/tags/Development.xml" rel="self"/>
    <link href="/"/>
    <updated>2021-04-29T15:43:26+00:00</updated>
    <id>/</id>
        <generator uri="http://sculpin.io/">Sculpin</generator>
            <entry>
            <title type="html"><![CDATA[A few tips for making your code easier to reason about]]></title>
            <link href="/blog/2020/10/05/a-few-tips-for-making-your-code-easier-to-reason-about"/>
            <updated>2020-10-05T14:30:00+00:00</updated>
            <id>/blog/2020/10/05/a-few-tips-for-making-your-code-easier-to-reason-about</id>
            <content type="html"><![CDATA[<p>It's been a long time since the last post! In <a href="/blog/2018/03/02/lambda-lists-to-wrap-failure/">previous posts</a>, we already discussed some strategies for making our code easier to reason about by looking at Functional Programming concepts and integrating them in our own workflow. In this post, we go at the problem from a more traditional perspective and look at a few small things that can make our lives a lot easier (as well as the lives of the other people that need to check out our code)!</p>

<h2 id="%F0%9F%8D%8D-%F0%9F%99%85%E2%80%8D%E2%99%82%EF%B8%8F-%F0%9F%8D%95-make-invalid-state-impossible-to-represent">üçç üôÖ‚Äç‚ôÇÔ∏è üçï Make invalid state impossible to represent</h2>

<p>Let's say we are building an app that lets people order coffee from a local coffee shop. They pick the product they want to order from a list, and they have to put in the number of items they want to order (the quantity) per product that they picked.</p>

<p>You could write something like</p>

<pre><code class="php">$cart-&gt;add(new ProductId('001-esspresso'), 3);
</code></pre>

<p>If you wanted to buy three Espressos.</p>

<p>The problem with this, is that we can easily pass a faulty value to that function:</p>

<pre><code class="php">$cart-&gt;add(new ProductId('001-esspresso'), 0);
</code></pre>

<p>or</p>

<pre><code class="php">$cart-&gt;add(new ProductId('001-esspresso'), -2);
</code></pre>

<p>or even</p>

<pre><code class="php">$cart-&gt;add(new ProductId('001-esspresso'), 3.14);
</code></pre>

<p>This can become a problem later on, for instance when we are calculating the price of the order. This means that our method needs to guard against faulty input values here, but it's impossible to know from the outside of the method if it does it or not. This will throw an exception:</p>

<pre><code class="php">$cart-&gt;add(new ProductId('001-esspresso'), -2);
</code></pre>

<p>But you don't know that. You need to go and look inside that method to know for sure. Also, you don't know <em>when</em> it will throw...</p>

<p>PHP's type system could be of help in some cases (e.g. to prevent the float value, we could typehint for an integer), but in this case, we're missing a concept: <code>Quantity</code> which is a Value Object that represents the exact value that we need, a positive integer that's bigger than zero.</p>

<p>The method now only accepts instances of that object, which means it doesn't need to do any additional checks.</p>

<pre><code class="php">public function add(ProductId $id, Quantity $quantity): void
{
    // ...
}
</code></pre>

<p>What's more, every time we pass a <code>Quantity</code> around, or when we are passed one, it's guaranteed to be a verified correct value:</p>

<pre><code class="php">final class Quantity
{
    private $quantity;

    public function __construct(int $quantity): Quantity
    {
        $this-&gt;assertBiggerThanZero($quantity);

        $this-&gt;quantity = $quantity;
    }

    private function assertBiggerThanZero(int $quantity): void
    {
        if ($quantity &lt;= 0) {
            throw new InvalidArgumentException('Quantity should be bigger than zero');
        }
    }
}
</code></pre>

<h2 id="%F0%9F%A4%96-%E2%9E%A1%EF%B8%8F--%F0%9F%98%81--using-annotation-and-static-analysis-to-our-advantage">ü§ñ ‚û°Ô∏è  üòÅ  Using annotation and static analysis to our advantage</h2>

<p>It's good to <em>know</em> that the <code>Quantity</code> object is a Value Object, because this makes it easy to reason about: it behaves like a value, it's immutable. Knowing this, you can forget about passing by reference and other headaches. It's even better if you can let other developers know:</p>

<pre><code class="php">/**
 * @immutable
 */
final class Quantity
{
    // ...
}
</code></pre>

<p>You can get even more out of it, if you use <a href="https://psalm.dev/">psalm</a>. You can let psalm guard this property for you: if someone would add a method to the <code>Quantity</code> class that made it mutable, your tests would start failing:</p>

<pre><code class="php">/**
 * @psalm-immutable
 */
final class Quantity
{
    // ...
}
</code></pre>

<p>At this point, you can be pretty sure that no mutation is going to happen. You can also annotate functions/methods like this to let others (and psalm) know that the function is "pure":</p>

<pre><code class="php">/**
 * @psalm-pure
 */
public function addOneFreeCoffee(Quantity $quantity): Quantity
{
    return new Quantity($quantity-&gt;toInt() + 1);
}
</code></pre>

<p>This annotation makes it impossible to do anything in the body of this method that changes state, or even generates output. It becomes a lot easier to reason about this function: if you give it input <code>a</code>, it will always return output <code>b</code>. It won't magically pull out some random value, or a record from a database. It's <em>transparent</em>.</p>

<h2 id="%E2%9C%85-%E2%9E%A1%EF%B8%8F--%F0%9F%93%96-your-tests-are-domain-expectations">‚úÖ ‚û°Ô∏è  üìñ Your tests are domain expectations</h2>

<p>Tests are often used as "a way to make sure our code works". While I don't disagree with that, I think good tests are way more valuable than that. If you're working in a Test-Driven manner, they provide confidence and flow during development. They help you to do safe refactors. But also, they document your code. Let's look at an example, would you rather find this:</p>

<pre><code class="php">/**
 * @test
 */
public function shippingIsFreeWhenYouOrderThreeOrMoreProductsAtLeastOneBigLatte()
{
    $cart = new Cart();

    $cart-&gt;add(new ProductId('001-esspresso'), new Quantity(2));
    $cart-&gt;add(new ProductId('002-lungo'), new Quantity(3));
    $cart-&gt;add(new ProductId('003-latte-big'), new Quantity(1));

    $cart-&gt;checkout();

    $this-&gt;assertTrue($cart-&gt;freeShipping())
}
</code></pre>

<p>or this:</p>

<pre><code class="php">/**
 * @test
 */
public function shippingIsFreeWhenYouOrderThreeOrMoreProductsAtLeastOneBigLatte()
{
    $cart = new Cart();

    $cart = $this-&gt;givenTheCartContainsThreeOrMoreProducts($cart);
    $cart = $this-&gt;andTheCartContainsOneOrMoreBigLattes($cart);

    $cart = $this-&gt;whenTheCartIsCheckedOut($cart);

    $this-&gt;thenShippingShouldBeFree($cart);
}
</code></pre>

<p>When you look at the first example, the domain rule is expressed in the name of the test only, the test code itself doesn't help you in understanding the actual rule that we're testing. You can see how the <code>Cart</code> is used, but you'll have a harder time finding out or validating what the actual rule is that's being tested. In the second example, there's no chance of missing the domain rule. The domain language is used to express the problem as if you were talking about it. It's a bit harder to see how the <code>Cart</code> is used, but it's easy to click through to the implementation of those methods to see the actual implementations.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Using three simple concepts, we can give our brains a bit of rest when looking at the code because they don't need to keep as much information in "working memory" to understand it.
I hope these tips will help you to make your code easier to grasp for yourself and your coworkers! Hope to see you for the next post!</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Some Pairing and Mobbing takeaways]]></title>
            <link href="/blog/2019/10/29/some-pairing-and-mobbing-take-aways"/>
            <updated>2019-10-29T13:30:00+00:00</updated>
            <id>/blog/2019/10/29/some-pairing-and-mobbing-take-aways</id>
            <content type="html"><![CDATA[<p>As you could already read in <a href="/blog/2018/12/07/one-month-of-pairing">one of our previous posts</a>, we started working in pairs some time ago. Now there's also some Mob Programming being done from time to time, and we started automatically doing some things to make our own lives easier. Some examples:</p>

<h2 id="%F0%9F%9B%8B-%F0%9F%93%BA-make-yourself-comfortable">üõã üì∫ Make yourself comfortable</h2>

<p><img src="/images/2019-11-29-some-pairing-and-mobbing-take-aways/mobbing-team.jpg" alt="Keyboard Switcher in macOS" /></p>

<p>Make sure everyone has a good chair and good visibility of the screen you're working on. If you're pairing, this means that you should work on an external screen of some kind, instead of on a laptop. Make sure there's enough light, not too much noise, and that everyone has drinks and food if they need it.</p>

<p>You can work best if you're not focussing on something else. Taking away small distractions like restlessness or poor visibility of the screen can do wonders!</p>

<h2 id="%E2%8C%A8%EF%B8%8F%F0%9F%92%BB-set-your-machine-up-for-everyone">‚å®Ô∏èüíª Set your machine up for everyone</h2>

<p>Make sure the machine you're working on is set up so that you can switch drivers often and so that every driver is working comfortably on it. Of course, it's mostly impossible to all agree on the same set of shortcuts and keyboard setups, but we found a great compromise:</p>

<p><img src="/images/2019-11-29-some-pairing-and-mobbing-take-aways/keyboard-switcher.png" alt="Keyboard Switcher in macOS" /></p>

<ul>
<li>On macOS you can make the keyboard settings available from the top bar so that you can really quickly switch keyboard layouts</li>
<li>In PhpStorm or other editors, there are options to export your settings and import other ones. I just created a backup of my settings by exporting them and I ask everyone at the beginning of the session to send me their configs. When they start, they can select their own config from my desktop! After the session I can easily restore my own settings.</li>
<li>On macOS it's also possible to connect multiple Bluetooth keyboards, mice, etc. We have an AZERTY and a QUERTY keyboard available, as well as a trackpad and a mouse. They are easily passed on and ready to use by the next driver!</li>
</ul>

<p>These three small changes come a long way to make you feel as if you're working on your own machine!</p>

<h2 id="%E2%9B%94%EF%B8%8F%F0%9F%93%B1-only-allow-one-screen">‚õîÔ∏èüì± Only allow one screen</h2>

<p>Being distracted already came up in the previous tip, but here we go again! Ask everyone in the room to put their phones on silent and put them in their pockets. Ask them to close their laptops, they're not going to need them. If you need to look something up, or if you're unsure about what a given piece of code does, ask the driver to put it on the big screen.</p>

<p>This way, nobody dives off into their own cocoon and let their minds escape the group's focus.</p>

<h2 id="%F0%9F%8E%A8%E2%97%BB%EF%B8%8F--to-the-drawing-board">üé®‚óªÔ∏è  To the drawing board</h2>

<p>Try to find a way to make things visible. If you have a whiteboard available, great! Do you have a wall? Use stickies or put up big pieces of paper. As a last resort, there's still just pieces of paper that you can draw on. Just make sure that you can make something visible so that you have something to talk about when a discussion is in order.</p>

<h2 id="%F0%9F%98%B0-%E2%9E%A1-%F0%9F%98%81-keeping-everyone-engaged">üò∞ ‚û° üòÅ Keeping everyone engaged</h2>

<p>Two rules:</p>

<ul>
<li>Switch drivers often</li>
<li>Take breaks often</li>
</ul>

<p>We use <a href="http://mobster.cc/">this simple app</a> to notify us when to switch and when to take breaks. If the app doesn't tell you to take a break but you feel like it anyway, just do it. You'll be more productive after the break.</p>

<h2 id="%F0%9F%92%BB%F0%9F%8F%A1-remote-work-and-mobbing">üíªüè° Remote work and mobbing</h2>

<ul>
<li>Make sure both parties have a perfect internet connection</li>
<li>Make sure the setup for audio is working properly. We use a Jabra kit that picks up less ambient noise and makes everything clear to understand</li>
<li>Use e.g. Slack screen sharing features to your advantage: you can draw on the screen and you can switch drivers easily!</li>
</ul>

<p>Hope these takeaways can help you as well! Happy Mobbing!</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[A tale of a small JavaScript bug]]></title>
            <link href="/blog/2019/10/02/a-tale-of-a-small-javascript-bug"/>
            <updated>2019-10-02T14:30:00+00:00</updated>
            <id>/blog/2019/10/02/a-tale-of-a-small-javascript-bug</id>
            <content type="html"><![CDATA[<p>Sometimes it's assumed that the frontend is a relatively harmless place to be programming. We've been proven wrong once again.</p>

<h2 id="%F0%9F%94%A5%F0%9F%90%B6%E2%98%95%EF%B8%8F%F0%9F%94%A5-this-is-fine">üî•üê∂‚òïÔ∏èüî• This is fine</h2>

<p><img src="/images/2019-10-02-a-tale-of-a-small-javascript-bug/this-is-fine.png" alt="This is fine" /></p>

<p>For a few months now, we have been seeing relatively high loads on our web servers. The loads varied from around 90% of the total CPU power available, to a bit over 100% in peak hours. We assumed that this was normal and that our product was just being used more (which it was), and that this was a natural burden on the load on our servers. The approach we were going to take was to continue scaling horizontally.</p>

<p>Two weeks ago however, we noticed huge daily load spikes (up to 1000% of our capacity) during peak hours. We got alert SMS'es of Redis that couldn't handle the amount of requests, and saw Kibana logs of very slow user requests to certain routes, effectively rendering our application unusable at times. It was "all hands on deck" immediately, and we started digging. Before we could find out what was happening it stopped again, and the load dropped to what we assumed was "normal load". We found, also using Kibana, that there was a huge amount of calls to our <code>/find</code> endpoint, and so we decided to implement a <a href="/blog/2017/05/02/sliding-window-rate-limiter-redis/">rate limiter</a> on those, to prevent our app from going down, and buy us some time to look for the actual issue. However, we couldn't see why that endpoint was hit so hard.</p>

<p><img src="/images/2019-10-02-a-tale-of-a-small-javascript-bug/kibana.png" alt="Kibana showing a lot of requests for one user in a short time frame" /></p>

<h2 id="%F0%9F%90%9B%F0%9F%95%B5%EF%B8%8F%E2%80%8D%E2%99%82%EF%B8%8F--bug-hunting">üêõüïµÔ∏è‚Äç‚ôÇÔ∏è  Bug Hunting</h2>

<p>A few days later, when we were hit with a huge amount of calls again (this time, they were ratelimited and not producing those huge loads on our servers, but we could see them in the logs and in Kibana), we noticed that most of them were coming from only a limited number of customers. We tried to work in our app as they would do, but couldn't reproduce it. After some time however, we noticed in the network tab of the browser we were working in, that the same call to the <code>/find</code> endpoint was done multiple times simultaneously! Bingo!</p>

<p>Or not Bingo? The code seemed to be fine: When we mount our inbox's react component, we use <code>Sonora.on(eventname, callback)</code> to bind a callback to a given websocket eventname (Sonora is an abstraction around <a href="https://socket.io/">socket.io</a>). When we unmount the react component again, we call <code>Sonora.off(eventname, callback)</code> to stop listening for those events. When such an event comes in, we would potentially need more info from the backend and a call to the <code>/find</code> endpoint is issued. It definitely looked like we didn't unregister the callbacks when unmounting that component, given how we saw multiple calls being made simultaneously in the console's network tab, whenever a websocket message came in.</p>

<p><img src="/images/2019-10-02-a-tale-of-a-small-javascript-bug/performance-tab.png" alt="Browser's performance tab showing lots of calls to the find endpoint" /></p>

<p>While everything was looking okay in the consuming code of the Sonora <code>.on()</code> and <code>.off()</code> methods, we concluded that something must've been wrong in the wrapper around socket.io itself. When looking inside the <code>.on()</code> method, we found out that there was a debugging statement added like this:</p>

<pre><code class="javascript">const Sonora = {
    // ...

    on: (event, callback) =&gt; {
        socket.on(
            event,
            () =&gt; {
                console.log('some debugging here');

                callback.apply(this, arguments);
            }
        );
    }

    // ...
}
</code></pre>

<p>As you can see, we wrapped the actual callback inside an anonymous function, and passed that on to Socket.io's <code>.on()</code> handler. Now, when calling <code>.off()</code>, we sent along the original callback which didn't match the wrapped one, and nothing was removed. Since it's possible to have multiple callbacks for each incoming event, this resulted in the same callback being added time after time and not being removed. So we had basically made all our clients do <em>loads</em> of unnecessary calls to <code>/find</code> by adding a debugging statement! And believe it or not, this debugging statement was there for a while! (Thanks git blame!)</p>

<h2 id="%F0%9F%94%A8%F0%9F%91%A9%E2%80%8D%F0%9F%94%A7-fixing-it">üî®üë©‚Äçüîß Fixing it</h2>

<p>The fix was easy enough: don't add that anonymous function.</p>

<p>The load on our servers dropped immediately when we put that small change into production, and not only during peak hours. It seemed that we had been on a tipping point. A few more users online at any given time, a few more open tabs with our application running in them. The servers constantly running at semi-high loads. And then we went over it. üî•</p>

<p><img src="/images/2019-10-02-a-tale-of-a-small-javascript-bug/loads-dropping.png" alt="Graph displaying the huge drop in load on our servers" /></p>

<p>Along the way we did some other optimisations:</p>

<ul>
<li>we implemented a rate limiter on the <code>/find</code> endpoint</li>
<li>we disallowed to register exactly the same callback twice for the same event using <code>Sonora.on()</code></li>
<li>we fixed a second bug in <code>Sonora.off()</code> where we didn't remove the correct callbacks sometimes</li>
</ul>

<h2 id="%F0%9F%98%87%F0%9F%92%AD-and-they-lived-happily-ever-after">üòáüí≠ And they lived happily ever after</h2>

<p>This was the tale of the small JavaScript bug bringing down the huge web application, a modern David and Goliath if you will. Frontend debugging <em>tricks</em> can take down your application! Every change is important, certainly changes that happen in code that's used very frequently. Some changes that look inconspicuous can over time become real bottlenecks. Tools like Kibana and the browser profiler &amp; network tabs really helped us a great deal finding the issue, so don't forget what you have at your disposal.</p>

<p>We hope you enjoyed reading about our failures! Happy debugging! üëã</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Why Inheritance Makes Me Cry]]></title>
            <link href="/blog/2019/07/05/why-inheritance-makes-me-cry"/>
            <updated>2019-07-05T11:00:00+00:00</updated>
            <id>/blog/2019/07/05/why-inheritance-makes-me-cry</id>
            <content type="html"><![CDATA[<p>People receiving code reviews from me on a regular basis will know this by now, but if I see inheritance happening in new code, I get moody. I look the <code>extends</code> in the eye and prepare for battle. I pick up my <em>SOLID</em> axe and start examining the principle that will allow me to slay this sub-class beast. And then I cry a little because I'll have to explain again where this centuries-old grudge comes from.</p>

<p>Now, don't get me wrong. I do understand the usefulness of inheritance in very specific cases. But most of the time when I encounter a subclassed beast during a code review I go all out offensive on it. Let's explore why:</p>

<h2 id="single-responsibility-principle">Single Responsibility Principle</h2>

<p>If you've been Object Oriented Programming for some time and you've been looking around a bit, you've definitely encountered the <a href="https://en.wikipedia.org/wiki/SOLID">SOLID principles</a>. These are basically principles (not rules) that, when followed, will help you produce code that's easier to comprehend, change and test than when you were not following them. The first principle is the Single Responsibility Principle, which states that <em>a class should have only one responsibility</em>, or "one reason for change".</p>

<p>Let's try and use that to mitigate this case of inheritance:</p>

<pre><code class="php">interface Users
{
    public function getById(UserId $id): User;
}

class UsersDB implements Users
{
    protected $db;

    public function __construct(DB $db)
    {
        $this-&gt;db = $db;
    }

    public function getById(UserId $id): User
    {
        // ...
    }
}

class UsersCached extends UsersDB
{
    protected $cache;

    public function __construct(Cache $cache, DB $db)
    {
        parent::__construct($db);

        $this-&gt;cache = $cache;
    }

    public function getById(UserId $id): User
    {
        // get from cache?

        // if not in cache
        $user = parent::getById($id);

        // put in cache

        return $user;
    }
}
</code></pre>

<p>Apart from all other issues that we have here, let's try to find out if the <em>Single Responsibility Principle</em> holds for this implementation. Looking at the class <code>UsersDB</code>, we can clearly see that it has just one responsibility: it represents a bunch of <code>User</code>s that are persisted to our database. It has no other reasons to change than for the purpose of representing users persisted in our database.</p>

<p>Now let's look at the <code>UsersCached</code> implementation. It represents a bunch of <code>User</code>s as well, in this case it caches them. We could think that this class has only one responsibility, until we see the <code>parent::getById()</code> call. It basically calls a method that we inherited (so it's available in our class) from the parent class. The knowledge needed to query the database is actually in our class because of the inheritance!</p>

<p>You could argue that it's still ok since it's clearly a parent class and nothing's wrong there, but let's look at it through the lense of <em>a class should have only one reason for change</em>. What if we decide that the constructor of the <code>UsersDB</code> class will now take a <code>PDO</code> instance instead of our own <code>DB</code> class? Guess what! The implementation of our <code>UsersCached</code> needs to change as well, because it needs to pass the PDO instance on to its parent. So a decision about the database made us change the caching class. And it's obvious that changing the caching mechanism would also affect the caching class. Which gives us more than one reason for change of this class.</p>

<p>This is clearly a violation of the Single Responsibility Principle.</p>

<p>We could fix this e.g. by using the <a href="https://en.wikipedia.org/wiki/Decorator_pattern">Decorator Pattern</a>:</p>

<pre><code class="php">interface Users
{
    public function getById(UserId $id): User;
}

final class UsersDB implements Users
{
    private $db;

    public function __construct(DB $db)
    {
        $this-&gt;db = $db;
    }

    public function getById(UserId $id): User
    {
        // ...
    }
}

final class UsersCached implements Users
{
    private $users;
    private $cache;

    public function __construct(Users $users, Cache $cache)
    {
        $this-&gt;users = $users;
        $this-&gt;cache = $cache;
    }

    public function getById(UserId $id): User
    {
        // get from cache?

        // if not in cache, get from nested user object
        $user = $this-&gt;users-&gt;getById($id);

        // put in cache

        return $user;
    }
}
</code></pre>

<p>As you can see, it's only a very small change.</p>

<ul>
<li>we added <code>final</code> keywords to our classes and <code>private</code> to our variables to indicate that we don't want inheritance to happen üòè</li>
<li>we made both classes <code>implement</code> the <code>Users</code> interface</li>
<li>we injected an implementation of the <code>Users</code> interface into the constructor of the <code>UsersCached</code>, which will be called when no user is found in the cache.</li>
</ul>

<p>You could try and argue that this is no better because we still rely on the <code>Users</code> interface to stay stable. But if that interface changes, the responsibility "representing a bunch of users" changes, which is exactly the one responsibility that we have for our class. Changing the implementation of our <code>UsersDB</code> class will not affect the <code>UsersCached</code> class anymore, except when the contract of the interface is broken. Great!</p>

<h2 id="dependency-inversion-principle">Dependency Inversion Principle</h2>

<p>Let's take a short second look at the same code examples from above, now while trying to look at it from another one of the SOLID principles, the <a href="https://en.wikipedia.org/wiki/Dependency_inversion_principle">Dependency Inversion Principle</a>. The principle comes down to <em>depending on abstractions instead of concretions</em>. In the case of the first example, the <code>UsersCached</code> extends <code>UsersDB</code>, which it needs when there's nothing found in the cache. We depend on a concrete class, which is a violation of the principle. In the second example, we made <code>UsersCached</code> implement the interface directly instead of extending from <code>UsersDB</code>. We then inject another implementation of <code>Users</code> in the constructor of <code>UsersCached</code>. Since we depend on the <em>interface</em> here, we don't depend on a concrete class anymore, and any implementation of the <code>Users</code> interface should work! This solution follows the principle! An added benifit of this is that our <code>UsersCached</code> instance is now much easier to test: we just need to inject a fake <code>Users</code> interface and see if it gets called when the cache doesn't have the value that we look for.</p>

<p>You could do the same with the other SOLID principles really, take e.g. <a href="https://en.wikipedia.org/wiki/Liskov_substitution_principle">Liskov Substitution Principle</a>. If a class extends from our class, it can easily overwrite a method to behave completely differently than what it was, so the principle doesn't hold. Again, it's easy to make a violation there.</p>

<h2 id="shared-dependencies">Shared Dependencies</h2>

<p>Now that we have a few SOLID reasons to say that inheritance is not a desirable solution for our problems, let's look at some other ways that I think it is misused. Consider this example:</p>

<pre><code class="php">abstract class Notification
{
    protected $id;

    public function __construct(Id $id)
    {
        $this-&gt;id = $id;
    }

    public function toUrl($relative = true): string
    {
        $path = "/notifications/{$this-&gt;id}";

        if ($relative === true) {
            return $path;
        } else {
            return "https://domain.of.application{$path}";
        }
    }
}
</code></pre>

<p>I see this kind abstract classes quite often. It's a form of deduplication (people think they shouldn't repeat code), but what's problematic is the fact that you won't always know what kinds of exceptions to the rule there are going to be. Consider a class <code>AccountSpecificNotification</code> which extends from <code>Notification</code>. It wants to overwrite the <code>toUrl()</code> method, because account specific notifications are at <code>/account/{accountId}/notifications/{notificationId}</code>. Trouble is, we have to again implement the absolute and relative paths rule, and the chance of making mistakes becomes higher. Also the absolute URL of our domain is now in two classes. The knowledge about converting a notification to a URL is also in two classes. If we have a few of these exceptions, stuff gets difficult to keep track of.</p>

<p>As a solution, you could just make this class an interface and specify the <code>toUrl()</code> method on <code>Notification</code> instances. This way you always know the implementation for a certain type of <code>Notification</code> will be in the class itself. Then you'll have to live with the duplication. This is personally how I often do it. I <a href="https://medium.com/@nicolopigna/this-is-not-the-dry-you-are-looking-for-a316ed3f445f">duplicate stuff when in doubt and refactor later</a>, with the benefit of hindsight.</p>

<p>Another thing that you could do is look at the <code>toUrl()</code> method, and see that it's in fact a shared dependency between <code>Notification</code>s with another responsibility than "representing a notification". It could become another class. Let's write a separate class for it:</p>

<pre><code class="php">final class NotificationToUrl
{
    public function getRelativeUrlForNotification(Notification $notification): string
    {
        $url = '/notifications/' . $notification-&gt;getId();

        if ($notification instanceof AccountSpecificNotification) {
            $url = '/account/' . $notification-&gt;getAccountId();
            $url .= '/notifications/' . $notification-&gt;getId();
        }

        return $url;
    }

    public function getFullUrlForNotification(Notification $notification): string
    {
        $path = $this-&gt;getRelativeUrlForNotification($notification);

        return "https://domain.of.application{$path}";
    }
}
</code></pre>

<p>Of course this is not perfect either, but it's at least a bit better from some standpoints: we get all the knowledge of converting notifications to URLs in one place, and we don't need inheritance!</p>

<h2 id="in-short">In short</h2>

<p>If you're using inheritance to fix a problem, I propose that you take a second and ask yourself why. In this post I propose a few ways of looking at inheritance that could help you come to a better solution in some cases.</p>

<ul>
<li>Are you violating one of the SOLID principles? Try and look for a solution where you can adhere to them more.</li>
<li>Are you trying to remove duplication? Try to <a href="https://medium.com/@nicolopigna/this-is-not-the-dry-you-are-looking-for-a316ed3f445f">postpone your decisions about the abstraction</a> that you're going to use to remove the duplication.</li>
<li>Do you have a shared method that multiple classes need? Try extracting it to a separate class.</li>
</ul>

<p>Since most of the time one of these methods produces a result that I find more desirable as explained in this post, I'll mostly oppose strongly against the use of inheritance when it's not strictly needed.</p>

<p>Hope that you'll be with me on slaying this beast! Until next time, happy programming! üê≤</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Exceptional Exceptions]]></title>
            <link href="/blog/2019/05/22/exceptional-exceptions"/>
            <updated>2019-05-22T15:00:00+00:00</updated>
            <id>/blog/2019/05/22/exceptional-exceptions</id>
            <content type="html"><![CDATA[<p>You've made it to this post thinking "Why do we still need to talk about Exceptions?". Well, they're used everywhere in OOP codebases, but sometimes they're used in a way that make debugging a bit difficult. Let's look at some ways to make debugging exceptions a bit more fun!</p>

<p>You know that feeling when you're trying to investigate an Exception that was thrown, but you can't seem to find the origin of it? You dig a bit deeper and you find that it's an exception that was caught and not rethrown, e.g.:</p>

<pre><code class="php">try {
    $this-&gt;doSomeImportantStuffWith($foo);
} catch (VeryDescriptiveException $e) {
    // do some stuff here

    throw new SomethingWentWrongException('oh no!');
}
</code></pre>

<p>Now, when you encounter this <code>SomethingWentWrongException</code>, you'll see that the trace takes you back to the 6th line of this code example. All information that was inside the <code>VeryDescriptiveException</code>, including its message, stack trace and other useful information is gone. Of course, debugging that error in <code>doSomeImportantStuffWith()</code> would be much easier if you had all that info.</p>

<pre><code class="php">Fatal error: Uncaught SomethingWentWrongException: oh no! in test.php:6
Stack trace:
#0 /Users/toon/Projects/devblog/test.php(34): Test-&gt;withoutPrevious()
#1 {main}
  thrown in /Users/toon/Projects/devblog/test.php on line 6
</code></pre>

<h2 id="prevent-information-loss-by-using-%60%24previous%60">Prevent information loss by using <code>$previous</code></h2>

<p>The obvious answer to this simplified example would be to just rethrow the <code>VeryDescriptiveException</code> instead of throwing a more general <code>SomethingWentWrongException</code>... And that would be valid, but let's say we're implementing an Interface that prescribes that we only throw <code>SomethingWentWrongException</code>s. We can't let the <code>VeryDescriptiveException</code> through or we'll break the <a href="https://en.wikipedia.org/wiki/Liskov_substitution_principle">Liskov Substitution Principle</a>. We want to throw that specific <code>SomethingWentWrongException</code>, while still somehow preserving the information of that previous exception that we caught. Let's check <a href="https://www.php.net/manual/en/exception.construct.php">the docs</a>:</p>

<p><img src="/images/2019-05-24-exceptional-exceptions/php-docs-exception-construct.png" alt="PHP Docs for the Exception Constructor" /></p>

<p>That <code>Throwable $previous = null</code> is what we're looking for! I've almost never seen this being used in the wild, but it's great for our usecase:</p>

<pre><code class="php">try {
    $this-&gt;doSomeImportantStuffWith($foo);
} catch (VeryDescriptiveException $e) {
    // do some stuff here

    throw new SomethingWentWrongException('oh no!', 0, $e);
}
</code></pre>

<p>this results in this error:</p>

<pre><code class="php">Fatal error: Uncaught VeryDescriptiveException: hello there! in test.php:15
Stack trace:
#0 /Users/toon/Projects/devblog/test.php(23): Test-&gt;doSomeImportantStuffWith('test')
#1 /Users/toon/Projects/devblog/test.php(34): Test-&gt;withPrevious()
#2 {main}

Next SomethingWentWrongException: oh no! in test.php:6
Stack trace:
#0 /Users/toon/Projects/devblog/test.php(34): Test-&gt;withPrevious()
#1 {main}
  thrown in /Users/toon/Projects/devblog/test.php on line 6
</code></pre>

<p>As you can see, the stack trace of the original exception along with the one we wrapped it in are presented to us on error! We can see the message as well, and we can even add our own properties to the exception and be presented with them here if we just implement the <code>__toString()</code> method of the exception.</p>

<h2 id="custom-properties-in-exceptions">Custom properties in exceptions</h2>

<p>Let's say we've been building an API client that does some HTTP requests to an endpoint. Something can go wrong during the HTTP request, and we want to thrown an <code>ApiConnectionFailed</code> exception whenever the HTTP response code is not <code>2xx</code> or something else fails, so that the rest of our application has one single Exception it needs to prepare for. It would be very handy to debug if that exception contained our HTTP Request &amp; Response objects, e.g.:</p>

<pre><code class="php">final class ApiConnectionFailed extends Exception
{
    private $request;
    private $response;

    public static function withHttpRequestAndResponse(
        $message,
        Request $request = null,
        Response $response = null,
        Throwable $previous = null
    ) {
        $exception = new static($message, 0, $previous);
        $exception-&gt;request = $request;
        $exception-&gt;response = $response;

        return $exception;
    }

    public function __toString()
    {
        $string = parent::__toString();
        $string .= "\n{$this-&gt;request}";
        $string .= "\n{$this-&gt;response}";

        return $string;
    }
}
</code></pre>

<p>As you can see, we used a <a href="http://verraes.net/2014/06/named-constructors-in-php/">named constructor</a> <code>withHttpRequestAndResponse</code> to be able to keep the default constructor for Exceptions, but to also be able to construct it using a lot of extra relevant debugging information. This means that this Exception behaves like other exceptions and is very transparent to other developers.</p>

<p>If something fails, we'll construct the exception like this:</p>

<pre><code class="php">try {
    $response = $httpClient-&gt;execute($request);
} catch (HttpClientException $e) {
    throw ApiConnectionFailed::withHttpRequestAndResponse(
        'Http connection could not be established',
        $request,
        null,
        $e
    );
}

if ($response-&gt;getResponseCode() === 500) {
    throw ApiConnectionFailed::withHttpRequestAndResponse(
        'We got a 500 error from the host',
        $request,
        $response
    );
}
</code></pre>

<p>The exception will always contain all relevant information to be able to debug.</p>

<h2 id="recap">Recap</h2>

<p>To quickly recap, you can make your life a lot easier by</p>

<ul>
<li>providing exceptions with descriptive names</li>
<li>providing the <code>$previous</code> exception when rethrowing</li>
<li>providing all relevant data to an exception</li>
<li>providing named constructors for your exceptions to be able to add debugging info but keep the original constructor</li>
</ul>

<p>Hope that helps! Until next time, have fun coding! üññ</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Our Favorite Content Of 2018]]></title>
            <link href="/blog/2019/01/04/our-favorite-content-of-2018"/>
            <updated>2019-01-04T13:00:00+00:00</updated>
            <id>/blog/2019/01/04/our-favorite-content-of-2018</id>
            <content type="html"><![CDATA[<p>As a team, we consume A LOT of blog posts, YouTube videos, podcasts, and tweets about software development and related topics each year. Like <a href="/blog/2017/12/22/our-favorite-content-of-2017">last year</a>, we asked everyone in the team to share their favorite stuff that they found online, so that you can read it too. Here we go!</p>

<h1 id="people">People</h1>

<h3 id="the-art-of-job-interviewing"><a href="https://www.artofwork.co/job-interviewing">The Art of Job Interviewing</a></h3>

<p>Toon thinks this is the most complete and thought-through blogpost about interviewing people that you can find, and there are a lot of good ideas to try out in your company!</p>

<h3 id="when-no-gender-fits"><a href="https://uxplanet.org/when-no-gender-fits-33301c3cab53">When No Gender Fits</a></h3>

<p>Jurriaan has been working towards gender neutral design of our application, which is why this blogpost comes up. We often don't even see the way we're biased, and this blogpost shows us where to look.</p>

<h3 id="our-first-year-of-growth"><a href="https://medium.com/women-code-be/our-first-year-of-growth-6384eba5a3e2">Our First Year Of Growth</a></h3>

<p>Ursula has told us a few times about women.code(be), and this blogpost is a nice read about what they did in 2018!</p>

<h1 id="agile-%26-pair-programming">Agile &amp; Pair Programming</h1>

<h3 id="alan-cooper-thread-on-agile-%26-pair-programming"><a href="https://twitter.com/MrAlanCooper/status/1060553914209071106">Alan Cooper thread on Agile &amp; Pair Programming</a></h3>

<p>We were really into pair programming the last months of the year, and found this thread really inspiring!</p>

<h3 id="how-to-keep-pair-programming-digestible"><a href="https://madewithlove.be/how-to-keep-pair-programming-digestible/">How To Keep Pair Programming Digestible</a></h3>

<p>This is a fine blogpost with some tips that helped us to keep our sanity this year, during the <a href="/blog/2018/12/07/one-month-of-pairing">pair programming by default</a> experiment.</p>

<h1 id="software-design">Software Design</h1>

<h3 id="extremely-defensive-php"><a href="https://www.youtube.com/watch?v=Gl9td0zGLhw">Extremely Defensive PHP</a></h3>

<p>Jasper saw this talk by Marco Pivetta, and although Marco has been giving this talk for some years now, on multiple conferences, it's still a great talk to see!</p>

<h3 id="game-devs-vs-c%2B%2B"><a href="https://twitter.com/aras_p/status/1076947443823136768">Game Devs vs C++</a></h3>

<p>Jeffry was reading a lot of <a href="https://twitter.com/aras_p/status/1076947443823136768">twitter<sup>1</sup></a> <a href="http://aras-p.info/blog/2018/12/28/Modern-C-Lamentations/">threads<sup>2</sup></a> <a href="https://twitter.com/SebAaltonen/status/1080069784644059139">about<sup>3</sup></a> <a href="https://twitter.com/lucasmeijer/status/1080782217092030464">this<sup>4</sup></a> over Christmas. Check them out!</p>

<h3 id="overreacted"><a href="https://overreacted.io/">Overreacted</a></h3>

<p>Anthony recommends this blog about mostly React stuff! Great content, good examples... What else do you want?</p>

<h1 id="frameworks">Frameworks</h1>

<h3 id="stop-learning-frameworks"><a href="https://sizovs.net/2018/12/17/stop-learning-frameworks/">Stop Learning Frameworks</a></h3>

<p>Jurriaan liked this blog post. We're developers, software engineers, programmers. We're not only specialized in a framework! What we study is the way of solving problems, and frameworks are merely tools for our craft. This is valuable advice that has been given to us over the years, and people new to development tend to forget.</p>

<h3 id="the-end-of-silex"><a href="https://symfony.com/blog/the-end-of-silex">The End Of Silex</a></h3>

<p>We're sad to see our favorite "framework as a library" go, but it's safe to say that it served its purpose incredibly well. Thanks Silex!</p>

<h3 id="tailwind-css"><a href="https://tailwindcss.com/">Tailwind CSS</a></h3>

<p>Tailwind CSS has been hot news in the frontend community, which is why Thomas wanted to share this link. A new CSS Framework? Again? Yes, and this time, the design principles used are a little different than before. Check it out!</p>

<h1 id="social-media">Social Media</h1>

<h3 id="bbc-thread-on-social-media-mining-to-solve-war-crimes"><a href="https://twitter.com/BBCAfrica/status/1044186344153583616">BBC thread on Social Media Mining To Solve War Crimes</a></h3>

<p>The way BBC reporters used social media and readily available tools like Google Maps to investigate this War Crime is really impressive. The power of social media is confirmed yet again.</p>

<h3 id="thread-about-repeal-the-8th"><a href="https://threadreaderapp.com/thread/1000701354204069888.html">Thread about Repeal The 8th</a></h3>

<p>Ursula thinks this is a fascinating read about how social media was used for the "repeal the 8th campaign" in Ireland. It compares to how Trump used social media too... Relevant to the times!</p>

<h3 id="the-most-sophisticated-piece-of-code-ever-written"><a href="https://www.quora.com/What-is-the-most-sophisticated-piece-of-software-code-ever-written/answer/John-Byrd-2">The Most Sophisticated Piece Of Code Ever Written</a></h3>

<p>Plugged by Toon, this is a lengthy explanation of why Stuxnet might be the most advanced piece of code ever written. Even if you don't agree, it's a very nice read!</p>

<p>Those were some of our highlights for 2018, have a great 2019!</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Lambda To The Rescue: Monoids]]></title>
            <link href="/blog/2018/10/08/lambda-monoids"/>
            <updated>2018-10-08T10:30:00+00:00</updated>
            <id>/blog/2018/10/08/lambda-monoids</id>
            <content type="html"><![CDATA[<p><strong>This is the fourth post in a series about using Functional Programming concepts to make your Object Oriented code more comprehensible. Start <a href="/blog/2018/03/02/lambda-lists-to-wrap-failure">here</a> if you want to read the whole thing.</strong></p>

<h2 id="%E2%98%95%EF%B8%8F-ordering-some-coffees">‚òïÔ∏è Ordering some coffees</h2>

<p>In the previous posts, you already came across a few functional programming concepts. Let's explore one more. Let's say we went to a coffee bar and we want to calculate the total price of an order of coffees:</p>

<pre><code class="haskell">- Lungo           ‚Ç¨ 2.50
- Lungo           ‚Ç¨ 2.50
- Cappuccino      ‚Ç¨ 2.90
- Double Espresso ‚Ç¨ 2.10
- Iced Coffee     ‚Ç¨ 4.50
</code></pre>

<p>If you want to quickly do this from the top of your head, it makes sense to calculate it like this:</p>

<pre><code class="haskell">2.50 + 2.50 + 2.90 + 2.10 + 4.50
= (2.50 + 2.50) + (2.90 + 2.10) + 4.50
= 5             + 5             + 4.50
= 10                            + 4.50
= 14.50
</code></pre>

<p>instead of</p>

<pre><code class="haskell">2.50 + 2.50 + 2.90 + 2.10 + 4.50
= 2.50 + (2.50 + 2.90) + (2.10 + 4.50)
= 2.50 + 5.40          + 6.60
= 7.90                 + 6.60
= 14.50
</code></pre>

<p>As you already knew, these two approaches yield the same results. We say the location of the <code>(</code> and <code>)</code> when doing <code>+</code> isn't important, or <code>+</code> is <em>associative</em>.</p>

<p>Usually the receipt has a line "service" with some service costs of the order as well. In this case, since we ordered more than 4 coffees, we get service for free. The actual receipt looked like this:</p>

<pre><code class="haskell">- Lungo           ‚Ç¨ 2.50
- Lungo           ‚Ç¨ 2.50
- Cappuccino      ‚Ç¨ 2.90
- Double Espresso ‚Ç¨ 2.10
- Iced Coffee     ‚Ç¨ 4.50

- service         ‚Ç¨ 0
</code></pre>

<p>Does this change our calculation?</p>

<pre><code class="haskell">(2.50 + 2.50) + (2.90 + 2.10) + 4.50 + 0
= 5           + 5             + 4.50 + 0
= 10                          + 4.50 + 0
= 14.50                              + 0
= 14.50
</code></pre>

<p>Not at all! We conclude that 0 is "neutral" in that it doesn't change our calculations when using <code>+</code>. We call this <code>0</code> value <em>identity</em>.</p>

<h2 id="%F0%9F%A7%90-monoids">üßê Monoids</h2>

<p>Now, when we find these two properties (associativity and neutral element) for a function and its data, we found a <em>Monoid</em>. Cool! Let's see if we can find some other Monoids!</p>

<p>Let's see if a list of integers, and the operation <code>++</code> (append) form a Monoid:</p>

<pre><code class="haskell">$ ([1, 2] ++ [3, 4]) ++ [5, 6]
[1, 2, 3, 4, 5, 6]

$ [1, 2] ++ ([3, 4] ++ [5, 6])
[1, 2, 3, 4, 5, 6]
</code></pre>

<p>Ok, we have associativity, let's check if we can find a neutral element. How about the empty list?</p>

<pre><code class="haskell">$ [1, 2] ++ []
[1, 2]
</code></pre>

<p>Nice! We found another Monoid!</p>

<p>How about this:</p>

<pre><code class="haskell">data DiskUsage = DiskUsage { server :: String
                           , consumed :: Int
                           } deriving (Eq, Show)

data ServerStats = ServerStats { totalInGB :: Int
                               , perServer :: [DiskUsage]
                               } deriving (Eq, Show)

mergeServerStats :: ServerStats -&gt; ServerStats -&gt; ServerStats
mergeServerStats a b = ServerStats { totalInGB = totalInGB a + totalInGB b
                                   , perServer = perServer a ++ perServer b
                                   }
</code></pre>

<p>A program we could use to measure disk usage in our fictional data center's server racks returns <code>ServerStats</code> per rack. For every server in the rack, there's a <code>DiskUsage</code> entry in the <code>perServer</code> list. To easily calculate the total disk usage in our fictional data center, we just use <code>mergeServerStats</code> to sum it all, <em>et voil√†</em> we get one <code>ServerStats</code> with a total amount of GB used, and a list of all servers with their <code>DiskUsage</code>. (Note that the <code>totalInGB</code> can be totally wrong in this example. In a real world application you would just calculate that from the <code>perServer</code> value at all times. It's there because of convenience: you can immedately see how much disk usage is for a given rack.)</p>

<p>The question is, is this a <strong>Monoid</strong>? ü§î</p>

<p>To talk about a Monoid, we know we need a datatype. In this case we have <code>ServerStats</code>. Good. We also need a binary operation. We have <code>mergeServerStats</code>. Nice! We're halfway there. Let's see if we have the other stuff we need:</p>

<ul>
<li><p>associativity:</p>

<pre><code class="haskell">$ foo = DiskUsage { server = "foo", consumed = 42 }
$ bar = DiskUsage { server = "bar", consumed = 99 }
$ baz = DiskUsage { server = "baz", consumed = 1 }
$ qux = DiskUsage { server = "qux", consumed = 0 }
$
$ rack1 = ServerStats { totalInGB = 42, perServer = [foo] }
$ rack2 = ServerStats { totalInGB = 100, perServer = [bar, baz] }
$ rack3 = ServerStats { totalInGB = 0, perServer = [qux] }
$
$ result1 = mergeServerStats (mergeServerStats rack1 rack2) rack3
$ result2 = mergeServerStats rack1 (mergeServerStats rack2 rack3)
$
$ result1 == result2
True
</code></pre>

<p>Applying <code>mergeServerStats</code> first to <code>rack1</code> and <code>rack2</code>, and then applying the same function to the result of the first calculation and <code>rack3</code> had the same result as first applying <code>mergeServerStats</code> to <code>rack1</code> and the result of applying that same function to <code>rack2</code> and <code>rack3</code>. We have associativity!</p></li>
<li><p>neutral element:</p>

<pre><code class="haskell">$ foo = DiskUsage { server = "foo", consumed = 42 }
$
$ rack1 = ServerStats { totalInGB = 42, perServer = [foo] }
$ neutral = ServerStats { totalInGB = 0, perServer = [] }
$
$ result = mergeServerStats rack1 neutral
$
$ result == rack1
True
</code></pre>

<p>We were able to find a <code>ServerStats</code> value <code>neutral</code> that, when appended to another value <code>rack1</code> using <code>mergeServerStats</code> resulted in the same value as <code>rack1</code> again! This means we have a neutral element!</p></li>
</ul>

<p>We can conclude that <code>ServerStats</code> forms a Monoid with its operation <code>mergeServerStats</code>.</p>

<h2 id="%F0%9F%92%B0-usefulness">üí∞ Usefulness</h2>

<p>Now why is this such a big deal? Why do we keep rambling on about this? Let's evaluate this next question from our fictional operations engineers:</p>

<blockquote>
  <p>Our datacenter grew quickly and we now have 10 racks with 10 servers each. We have a script that produces a <code>ServerStats</code> entry per rack. We want to know the total disk usage across all racks. Can we do this?</p>
</blockquote>

<p>We quickly head back to <a href="/blog/2018/06/27/lambda-recursion/#recognizing-a-pattern">last "Lambda To The Rescue" episode</a> and check out the paragraph about <code>fold</code>. Let's see if folds can help us!</p>

<pre><code class="haskell">$ foldr mergeServerStats neutral [ rack1, rack2, rack3, ... ]
ServerStats { totalInGB = 142
            , perServer = [ DiskUsage {server = "foo", consumed = 42}
                          , DiskUsage {server = "bar", consumed = 99}
                          , DiskUsage {server = "baz", consumed = 1}
                          , DiskUsage {server = "qux", consumed = 0}
                          , ...
                          ]
            }
</code></pre>

<p>As you can see, we used all aspects of the Monoid in this example. We used the <em>neutral element</em> to have a starting value for our <code>foldl</code> invocation. We gave <code>foldl</code> the <code>mergeServerStats</code> binary operation over our datatype, and didn't worry about order of evaluation, which is where the <code>associativity</code> was helpful (we don't have to worry about implementation of <code>foldl</code>).</p>

<p>So, when we find out we're working with a Monoid, we immediately know we can <code>fold</code> easily over lists of that datatype!</p>

<p>In fact, if you're acquainted with <em>MapReduce</em>, a strategy for processing lots of data, you'll see that having a list of data allows you to <code>map</code> over it, and finding a Monoid between the datatype inside that list and the operation you want to do will allow you to <code>reduce</code> (or <code>fold</code>) easily over the list. Now you know what to look for!</p>

<p>Aside from "knowing what we can do with it", there's another benefit to understanding <code>Monoid</code>s, and that is <em>familiarity</em>. If you're checking out a codebase, and you find a Monoid instance, you'll feel right at home, and you'll understand the operations done on that particular datatype much easier than before. Which leads me to "formalizing".</p>

<h2 id="%F0%9F%A4%AF-formalizing">ü§Ø Formalizing</h2>

<p>You can even go further with this: in Haskell, there's a datatype <code>Monoid</code> which formalizes these properties in a typeclass:</p>

<pre><code class="haskell">class Monoid m where
  mempty :: m
  mappend :: m -&gt; m -&gt; m
  mconcat :: [m] -&gt; m
  mconcat = foldr mappend mempty
</code></pre>

<p>This means that you can formalize that your datatype &amp; operation combo is a <code>Monoid</code> instance, because it has a neutral element <code>mempty</code> and a binary operation <code>mappend</code>. You then get <code>mconcat</code> for free, which is the same as doing the <code>foldr</code> of the last example. Let's do this for our <code>ServerStats</code> type:</p>

<pre><code class="haskell">instance Monoid ServerStats where
  mempty = ServerStats { totalInGB = 0, perServer = [] }
  mappend = mergeServerStats
</code></pre>

<p>We can now do this:</p>

<pre><code class="haskell">$ mconcat [rack1, rack2, rack3]
ServerStats { totalInGB = 142
            , perServer = [ DiskUsage {server = "foo", consumed = 42}
                          , DiskUsage {server = "bar", consumed = 99}
                          , DiskUsage {server = "baz", consumed = 1}
                          , DiskUsage {server = "qux", consumed = 0}
                          ]
            }
</code></pre>

<p>This <code>mconcat</code> function thus comes for free and will work on any <code>Monoid</code>! You can mostly guess the behaviour of this function whenever you see it!</p>

<h2 id="%F0%9F%98%85-back-to-oop">üòÖ Back to OOP</h2>

<p>What to do with this knowledge in the Object Oriented world? We use lists to work with objects of the same type constantly, and do operations on objects in those lists to gather new information. Most of the time I see this, it's done using <code>foreach</code> or something like it. However, as far as I'm concerned there's no difference to the Functional Programming world here. If you already embrace <code>map</code>, <code>filter</code> and <code>reduce</code>, you should also be thinking about the datastructure inside the list: is it a <em>Monoid</em>? You'll then understand better how it will behave when doing operations on it and you'll immediately know which the best reducer functions are!</p>

<p>That concludes this post. Hope to see you for <a href="/blog/2018/11/28/lambda-syntax">the next one</a>! Happy programming y'aŒªŒª! üññ</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Lambda To The Rescue: Recursion]]></title>
            <link href="/blog/2018/06/27/lambda-recursion"/>
            <updated>2018-06-27T14:00:00+00:00</updated>
            <id>/blog/2018/06/27/lambda-recursion</id>
            <content type="html"><![CDATA[<p><strong>This is the third post in a series about using Functional Programming concepts to make your Object Oriented code more comprehensible. Start <a href="/blog/2018/03/02/lambda-lists-to-wrap-failure">here</a> if you want to read the whole thing.</strong></p>

<h3 id="procedural-and-declarative-styles">Procedural and Declarative styles</h3>

<p>Most programming languages have language structures to loop through lists and do interesting stuff with those lists. When you're used to programming using one of those languages, it can be pretty terrifying to have your basics taken away from you when you jump into a functional programming language like Scheme or Haskell. Let's see what the problem is that functional languages have with loops and how they solved it.</p>

<p>Let's look at a pretty standard loop in PHP that counts how many words are in a list:</p>

<pre><code class="php">function countWordsInList(array $listOfWords)
{
    $count = 0;

    foreach ($listOfWords as $word) {
        $count++;
    }

    return $count;
}
</code></pre>

<p>Of course, this is an overly simple example (and you should probably use <code>count()</code>), but you get the point. Now, things get difficult, because there are no loops like this <code>foreach</code> in a lot of functional programming languages. Why, you ask? Because most of them either don't allow you to reassign variables (which makes the loop pretty useless), and, in fact, some of them disallow side-effects altogether. Let's see how we do this in Haskell instead:</p>

<pre><code class="haskell">countWordsInList :: [String] -&gt; Int
countWordsInList [] = 0
countWordsInList (x:xs) = 1 + countWordsInList xs
</code></pre>

<p>OK, stop. ü§î What the hack is happening here?</p>

<ul>
<li>On the first line, we have the type definition of our function: It takes a list of strings <code>[String]</code> and it returns an <code>Int</code>. It's a good practice to write it (it helps you think), but Haskell's compiler can infer it most of the time.</li>
<li>Then we define a "base" case: <code>countWordsInList</code> returns <code>0</code> for an empty list <code>[]</code>.</li>
<li>Then we say that for a list with at least one word <code>x</code> and possibly other words <code>xs</code>, we'll return <code>1</code> and add the result of the recursive call to the same function, with the rest of the list of words (the whole list without the first word).</li>
</ul>

<p>As you can see, in the PHP example we told the machine what to do with the list to get to a result. In the Haskell example, we declared what the result was, and some variables just had to be filled in. You could say that no computation needed to happen, just substitution.</p>

<pre><code class="haskell">countWordsInList ["foo", "bar", "baz"] = 1 + countWordsInList ["bar", "baz"]
countWordsInList ["foo", "bar", "baz"] = 1 + 1 + countWordsInList ["baz"]
countWordsInList ["foo", "bar", "baz"] = 1 + 1 + 1 + countWordsInList []
countWordsInList ["foo", "bar", "baz"] = 1 + 1 + 1 + 0
countWordsInList ["foo", "bar", "baz"] = 3
</code></pre>

<h3 id="recognizing-a-pattern">Recognizing a Pattern</h3>

<p>Let's try and write a function to sum all numbers in a list of integers:</p>

<pre><code class="haskell">sum' :: [Int] -&gt; Int
sum' [] = 0
sum' (x:xs) = x + sum' xs
</code></pre>

<p>OK, so:</p>

<ul>
<li>We'll call our function <code>sum'</code> because <code>sum</code> already exists.</li>
<li>We want <code>sum'</code> to take a list of integers <code>[Int]</code> and we'll return the sum of all those as an <code>Int</code>.</li>
<li>We'll start with the simplest case: an empty list will have the sum <code>0</code>.</li>
<li>In all other cases, we'll take the first <code>Int</code> in the list, and add it to the sum of all other items in the list.</li>
</ul>

<p>üí° Does that make you think of something?</p>

<p>You're right, this looks <strong>a lot</strong> like the previous example <code>countWordsInList</code>. And that's what other functional programmers thought when they were doing stuff like this. What if we could make an abstraction over this?</p>

<pre><code class="haskell">xxxxx [] = __value__
-- either return something for an empty list

xxxxx (x:xs) = __function__ x (xxxxx xs)
-- or take the first item of the list and combine
-- it with the recursive call with the rest of the list
</code></pre>

<p>Let's try. With the above blueprint, we can see that we need to create a function that</p>

<ol>
<li>takes a <code>__function__</code> that combines a value with the next</li>
<li>takes a <code>__value__</code> that is the default for empty lists</li>
<li>abstracts away the recursive call and returns the endresult;</li>
</ol>

<p>Let's define its type:</p>

<pre><code class="haskell">fold' :: (a -&gt; b -&gt; a) -&gt; a -&gt; [b] -&gt; a
</code></pre>

<ul>
<li>we'll call our function <code>fold'</code></li>
<li><code>(a -&gt; b -&gt; a)</code> first parameter is a function that takes a value of type <code>a</code> and type <code>b</code> and returns a value of type <code>a</code></li>
<li><code>-&gt; a</code> second parameter is the default value of type <code>a</code></li>
<li><code>-&gt; [b]</code> third parameter is a list of values to loop over, they all have type <code>b</code></li>
<li><code>-&gt; a</code> the return value will be of type <code>a</code></li>
</ul>

<p>Now we can start writing. We know that if the list we got is empty, we can just return the default value:</p>

<pre><code class="haskell">fold' _ def [] = def
</code></pre>

<p>The <code>_</code> means "we don't care about that value". It doesn't matter what the function is; if the list is empty, we don't need it. What if the list is not empty, but contains one or more elements? Let's use the combining <code>func</code> to combine the first item of the list with the result of the recursive call to the <code>fold'</code> function with exactly the same parameters (except for the "list", we just pass everything but the first element that we already used):</p>

<pre><code class="haskell">fold' func def (x:xs) = func x (fold' func def xs)
</code></pre>

<p>We apply the <code>func</code> to the first element and the result of the recursive call to our <code>fold'</code> function with all the same parameters, except for the list. There we just pass on the rest of the list (so without the first element that we already used).</p>

<p>Combined, that is:</p>

<pre><code class="haskell">fold' :: (b -&gt; a -&gt; a) -&gt; a -&gt; [b] -&gt; a
fold' _ def [] = def
fold' func def (x:xs) = func x (fold' func def xs)
</code></pre>

<p>Let's see if it works! Remember <code>countWordsInList</code>?</p>

<pre><code class="haskell">countWordsInList :: [String] -&gt; Int
countWordsInList [] = 0
countWordsInList (x:xs) = 1 + countWordsInList xs
</code></pre>

<p>We'll rewrite it using the <code>fold'</code> function:</p>

<pre><code class="haskell">countWordsInList :: [String] -&gt; Int
countWordsInList list = fold' (\word count -&gt; count + 1) 0 list
</code></pre>

<p>We'll fold over the <code>list</code> with a function that takes the next <code>word</code> and the current <code>count</code>, and returns <code>count + 1</code>. The stuff that's written between parens is a lambda (anonymous function) and looks like this <code>(\params -&gt; body)</code>. The default value for our <code>fold'</code> is <code>0</code>. When we use it, it gives expected results:</p>

<pre><code class="haskell">countWordsInList ["foo", "bar", "baz", "qux"]
-- 4

countWordsInList []
-- 0

countWordsInList ["foo"]
-- 1
</code></pre>

<p>How about the <code>sum</code> function that we made earlier?</p>

<pre><code class="haskell">sum' :: [Int] -&gt; Int
sum' = fold' (+) 0
</code></pre>

<p>Let's try it out:</p>

<pre><code class="haskell">sum' [1, 2, 3, 4]
-- 10

sum' []
-- 0

sum' [5]
-- 5
</code></pre>

<p>That seems to work... But wait... We wrote the definition <code>sum' = fold' (+) 0</code> without a list? Isn't this function definition incomplete? Yes. In Haskell, like in math, you can omit things that happen on both sides of the equals sign. Compare it to <code>3 + 4 = 1 + 2 + 4</code>. You could just as well write <code>3 = 1 + 2</code>. It's the same thing in Haskell. <code>sum' list = fold' (+) 0 list</code> is the same as <code>sum' = fold' (+) 0</code>.</p>

<p>As an exercise, let's do one more. We'll try to write a function that finds the maximum value of a list of positive integers, and returns <code>0</code> otherwise:</p>

<pre><code class="haskell">maximum' :: [Int] -&gt; Int
maximum' = fold' (\next current -&gt; if next &gt; current then next else current) 0
</code></pre>

<pre><code class="haskell">maximum' []
-- 0

maximum' [1, 2, 3, 5, 3, 2, 10, 0, 1]
-- 10

maximum' [42]
-- 42
</code></pre>

<p>If you want to use folds in Haskell, you certainly shouldn't write them yourself üòÖ - they already exist. Check out <a href="https://wiki.haskell.org/Foldr_Foldl_Foldl'">the documentation</a> for <code>foldl</code>, <code>foldr</code> and <code>foldl'</code>.</p>

<h3 id="transforming-a-list-to-another-list">Transforming a list to another list</h3>

<p>Let's say we have a list of Users, and we wanted to only have a list of their ages. The above methods could help us do that, but it would be quite tedious. Let's try writing a function for it ourselves.</p>

<pre><code class="haskell">data User = User { name :: String
                 , age :: Int
                 } deriving (Show)

ages :: [User] -&gt; [Int]
ages [] = []
ages (u:us) = age u : ages us
</code></pre>

<p>Again, we make sure we got the base case of an "empty list of users" covered: we'll just return an empty list of ages. Then we really need to start thinking. We'll just get what we need for the first value of the input list, and prepend that to the result of the recursive call with the rest of the list (just like what we did with the folds). Let's see what that gives us:</p>

<pre><code class="haskell">ages []
-- []

ages [ User {name="toon", age=29}, User {name="jenne", age=30} ]
-- [29,30]

ages [ User {name="toon", age=29} ]
-- [29]
</code></pre>

<p>It seems to work!</p>

<p>What if we had a list of ages, and we wanted to know how many years these people still had left to live. Let's oversimplify again, and subtract their age from <code>100</code>.</p>

<pre><code class="haskell">yearsLeft :: [Int] -&gt; [Int]
yearsLeft [] = []
yearsLeft (x:xs) = 100 - x : yearsLeft xs
</code></pre>

<p>Again, we take the first element of the list, do something with it, and recurse on the rest of the list. That looks a lot like the "age" example, doesn't it?</p>

<p>Well... there's an abstraction that can be made again. The "generic" function for doing things like this should look like so:</p>

<pre><code class="haskell">xxxxx [] = []
-- an empty input list results in an empty output list

xxxxx (x:xs) = __function__ x : (xxxxx xs)
-- take the first item of the list and do something with it
-- recurse on the rest of the list and append results.
</code></pre>

<p>Let's define its type:</p>

<pre><code class="haskell">map' :: (a -&gt; b) -&gt; [a] -&gt; [b]
</code></pre>

<p>Let's name our function <code>map'</code>, it takes a function from type <code>a</code> to type <code>b</code> and a list with <code>a</code>s. It then returns a list of <code>b</code>s. In the base case, it should return an empty list:</p>

<pre><code class="haskell">map' _ [] = []
</code></pre>

<p>In other cases, it should take the first item of the list, apply the function to it, and append the result of the recursive call:</p>

<pre><code class="haskell">map' func (x:xs) = func x : map' func xs
</code></pre>

<p>So, we get this:</p>

<pre><code class="haskell">map' :: (a -&gt; b) -&gt; [a] -&gt; [b]
map' _ [] = []
map' func (x:xs) = func x : map' func xs
</code></pre>

<p>Let's try it out: we want to write a function that takes a list of <code>Int</code>s and returns the same list but with <code>1</code> added to each element.</p>

<pre><code class="haskell">plusOne :: [Int] -&gt; [Int]
plusOne = map' (+ 1)
</code></pre>

<pre><code class="haskell">plusOne []
-- []

plusOne [1, 2, 3]
-- [2,3,4]

plusOne [3]
-- [4]
</code></pre>

<p>Cool! So now we have generalizations over some of these recursive functions! There are others to be found. I'll leave that to the reader to find out about.</p>

<h3 id="back-to-oop">Back to OOP</h3>

<p>You can probably see that these abstractions have their value. E.g.: <code>map</code> lets you use a function that applies to one thing on a whole list of those things. Even better, it lets you do it in a totally declarative style. You don't need to worry about state or changing variables. You don't need to keep counter values. Nothing. It's totally transparent. For me, this results in a huge reduction of mental overhead. I know, I talk a lot about that, but it's important to me. The same thing is true for the <code>fold</code>s. It's another way of thinking about loops that works really well for me.</p>

<p>When we get back to e.g. PHP now, I see many cases where a <code>map</code> or <code>fold</code> would be great. Implementing them ourselves isn't necessary (luckily), because they already exist in practically every programming language.</p>

<p>One more thing. The above implementations -which actually work really great in functional programming languages- wouldn't work in languages like PHP. The reason is simple: we would get stack overflows pretty quickly; In functional programming languages, there are things called tail call optimizations that can be made. They make sure that you don't blow the stack, even if you recurse a thousand times. This is not really possible in PHP functions right now. Try it out! But after it, just use <code>array_map()</code> and <code>array_reduce()</code> if you want to do stuff like this üòâ!</p>

<p>Hope you liked that, see you in <a href="/blog/2018/10/08/lambda-monoids">the next post</a>! Happy programming y'aŒªŒª! üññ</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Lambda To The Rescue: Pure Functions]]></title>
            <link href="/blog/2018/06/04/lambda-pure-functions"/>
            <updated>2018-06-04T10:00:00+00:00</updated>
            <id>/blog/2018/06/04/lambda-pure-functions</id>
            <content type="html"><![CDATA[<p><strong>This is the second post in a series about using Functional Programming concepts to make your Object Oriented code more comprehensible. Start <a href="/blog/2018/03/02/lambda-lists-to-wrap-failure">here</a> if you want to read the whole thing.</strong></p>

<p>Whenever you read up on functional programming on the internet, it's common to come across words like "pure" and "transparent", and for good reason. Let's explore their meaning in the functional programming world. üïµÔ∏è‚Äç‚ôÇÔ∏è</p>

<h2 id="%F0%9F%92%8E-purity">üíé Purity</h2>

<p>Let's pretend we need to represent the number of cylinders in an engine <code>2</code> in our code. In a normal scenario, we would assign it to a variable and be done with it. We'll use <a href="https://www.haskell.org/">Haskell</a>, a pure functional language.</p>

<pre><code class="haskell">cylinders :: Int
cylinders = 2
</code></pre>

<p>In the example, we start with a type annotation. You can read the first line as "cylinders <strong>is an</strong> Int". Then we write our statement.</p>

<p>Now, whenever we need the number of cylinders for computation, we could just get it from the variable right? Sure! Let's try something else, since we're talking about "pure" functions. Let's try to use a function that doesn't take any input and always returns the number of cylinders, instead of a variable:</p>

<pre><code class="haskell">cylinders :: Int
cylinders = 2
</code></pre>

<p>Wait? WAT? That is exactly the same?</p>

<p>Yes, in Haskell, a function without parameters is the same as a value. And that's logical right? No computation needs to happen when there's no input... right?</p>

<p>Well... Let me disappoint you:</p>

<pre><code class="php">function cylinders()
{
    echo rand();

    return 2;
}
</code></pre>

<p>In PHP, and in practically any other language, you can do things in functions that have side effects. In this case</p>

<ul>
<li>we created output on the <code>stdout</code></li>
<li>we called <code>rand()</code> which in turn tried to create a random number by reading from a randomness source</li>
</ul>

<p>Of course this can result in A LOT of unexpected behaviour. By just looking at the function, you can't always immediately see what's going to happen. And this is what the word <code>pure</code> refers to. This function has "side effects", so it's not "pure".</p>

<p>In Haskell though, if you want to do side effects within a function it will be marked with an <code>IO</code> tag. In fact, this is a type that behaves a bit like an environment. Getting a random number and echo'ing it requires <code>IO</code>, so the type can't just be <code>Int</code>, it's <code>IO Int</code>.</p>

<pre><code class="haskell">cylinders :: IO Int
</code></pre>

<p>This way, you can always clearly see, just by looking at the types, that the function has side effects, and thus is not "pure".</p>

<h2 id="%F0%9F%91%93-transparency">üëì Transparency</h2>

<p>While these terms are used interchangibly, in my book the word "transparency" makes this very clear: you can "look straight through" a function.</p>

<pre><code class="haskell">double :: (Num a) =&gt; a -&gt; a
double x = 2 * x
</code></pre>

<p>For every numeric value, we can calculate its <code>double</code>. You could really write this as a complete mapping from every number to its double:</p>

<pre><code class="haskell">double :: (Num a) =&gt; a -&gt; a
double 0 = 0
double 1 = 2
double 2 = 4
double 3 = 6
double 4 = 8
-- ... etcetera
</code></pre>

<p>As you can see, we reduced the function to (essentially) "values" again, as in the first example of this post. Calls to transparent functions could in theory be replaced by their values. In functional programming jargon this is called "referential transparancy".</p>

<p>A lot of functions can be made in an entirely transparent way, even quite complex things like parsing structured text or doing extensive computation.</p>

<h2 id="%F0%9F%A4%A9-consequences">ü§© Consequences</h2>

<h4 id="reduced-mental-overhead">Reduced mental overhead</h4>

<p>As you can imagine, being able to reason about functions as "values" makes things <em>much</em> easier. Otherwise you have to deal with side effects that can change the world while you just expected an Integer representing the number of cylinders in a motorcycle. The same goes for the other case, where an <code>IO Int</code> lets you know instantly that there will be stuff happening behind the curtains, and you're not getting your <code>Int</code> for free.</p>

<h4 id="in-fp-as-well-as-oop-environments">In FP as well as OOP environments</h4>

<p>Even in OOP environments I always try to see which parts of the code that I'm writing can be written as pure functions, so that they can be extracted to functions that represent values. E.g. processing incoming social media posts to a unified format of a post that our system understands is essentially a "transparent" operation. It's just a transformation of data to a certain format. The fact that this function is pure makes it very easy to reason about: we can essentially just think about the post in it's basic form (inline the function as value).</p>

<p>Now that I'm thinking about it: it would be GREAT if static analysis could detect side effects in functions... What do you think? ü§Ø</p>

<p>See you in <a href="/blog/2018/06/27/lambda-recursion">the next post</a>!</p>
]]></content>
        </entry>
            <entry>
            <title type="html"><![CDATA[Tips For Distraction-Free Programming]]></title>
            <link href="/blog/2018/04/09/some-tips-for-distraction-free-programming"/>
            <updated>2018-04-09T17:00:00+00:00</updated>
            <id>/blog/2018/04/09/some-tips-for-distraction-free-programming</id>
            <content type="html"><![CDATA[<p>I'm very easily distracted. The slightest movement or conversation in the room takes my focus right away, not to mention the endless stream of information and notifications that e.g. services like Slack (team chat) and e-mail generate. I might be working on something with a colleague or on my own, when a simple notification pops in. My brain glitches for a moment while I process the notification and get back to where I was, but it's enough to completely lose focus. When pair programming with someone that isn't easily distracted, it's mostly fixed in an instant by getting back to the conversation or repeating the last question, but it's a lot more difficult when working on a feature alone. Over time I tried to change a few things to make this kind of interruptions less frequent or pervasive. Let's check some out:</p>

<h2 id="%F0%9F%8F%9D-environment">üèù Environment</h2>

<p>The room I'm working in has a huge impact on my concentration levels. People talking or walking around are direct hits, as is any movement in my surroundings, even behind me. This is mostly fixed in our case since we don't have an open floor plan, so we don't share rooms with other teams, and when it's noisy in the room next to ours, we can just close the door. To prevent people talking from disrupting my concentration and the other way around, I'll put on headphones when working alone (mostly to prevent myself from listening in on the conversation), and I'll move to another room when pair programming. I know it sounds antisocial and makes me less approachable for questions or consultation, but I try to only do this when there's noise.</p>

<h2 id="%F0%9F%93%B1-phone-%26-social-media">üì± Phone &amp; Social Media</h2>

<p>My phone is out of sight. When I get a message I will read it when I find the time. When someone calls me I mostly take the call. It might sound strange because we're a social media company, but I'm not logged in to any of my personal social media accounts during the day. This really helps me concentrate, because my Twitter timeline is a real timesink for me. If I'm looking at that, I'm certainly not concentrating üòè. For testing stuff, I'll aways use test accounts.</p>

<h2 id="%F0%9F%96%A5-full-screen-applications">üñ• Full Screen Applications</h2>

<p>Although I don't like Full Screen Applications, I started using them more and more. They hide anything that might be happening in other windows, covering unwanted distractions up until you switch to the other application. I still don't like the oversight that is taken away by using an app in Full Screen mode though. The cool thing for me specifically is that iTerm behaves a bit like a tiling window manager for me, since I do most of my development in Vim &amp; the terminal, using iTerm splits. A great tip there is that you can use <code>Cmd + Shift + Enter</code> in an iTerm split to make it appear Full Screen temporarily.</p>

<h2 id="%F0%9F%9B%8E-osx-notification-center">üõé OSX Notification center</h2>

<p><img src="/images/2018-04-09-some-tips-for-distraction-free-programming/1.png" alt="do not disturb" /></p>

<p>I already hinted at it earlier on, but notifications of any kind really disturb me. They pop over any fullscreen application that might be open, and I really can't help looking at them. This is why I set the <code>DO NOT DISTURB</code> mode on during workdays. You can configure Mac OSX to enable it by default during work hours, or you can do it manually when you notice being distracted. Notifications I get are mostly from Slack, Calendar and Mail. You can also configure this on a per-application basis in your System Preferences.</p>

<h2 id="%F0%9F%8E%88-osx-application-badges">üéà OSX Application Badges</h2>

<p><img src="/images/2018-04-09-some-tips-for-distraction-free-programming/2.png" alt="dock icons with badges" /></p>

<p>What's really annoying me is that Mac OS displays so-called "badges" -the red circle icons with a number in them- on applications that received notifications, and these badges are visible in the Dock and the Application Switcher (<code>Cmd + Tab</code>). When I'm switching to my browser, I don't want to see how many Slack messages I missed. I'll check those later. I just went to Notification Center in System Preferences and disabled these badges for Slack, Calendar and Mail. I believe that I can be more productive when I read these things periodically instead of during other tasks. In the screenshot above, I enabled them temporarily for Calendar to show you what I mean, but what you can't see is that I have 25+ unread messages in Slack. Don't worry, I'll read them after I get this blogpost out! üòâ</p>

<h2 id="%F0%9F%93%A2-slack">üì¢ Slack</h2>

<p>Some great things to do in Slack are to Leave channels you don't use, and to use the Mute üîá functionality on channels that are not urgent but you can't really leave. Of course, I disabled Slack's notification sounds by default.</p>

<p>I hope these tips were helpful, they certainly help me concentrate a bit better. If you think of anything else, comment below, I want to hear it! Happy pair programming!</p>
]]></content>
        </entry>
    </feed>