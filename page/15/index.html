<!DOCTYPE html>
<html>
    <head>
        <title>Home &mdash; Clarabridge Engage Dev Blog</title>
        <meta charset="utf-8">
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="image" content="/images/share-img.png">
        <meta property="og:image" content="/images/share-img.png"/>
        <meta name="twitter:image" content="/images/share-img.png"/>
                    <meta name="robots" content="noindex, follow">
                <link href="/components/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="/css/style.css" rel="stylesheet" type="text/css" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
        <link rel="manifest" href="/manifest.json">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#445460">
        <meta name="theme-color" content="#445460">

        <link rel="stylesheet" href="/components/highlightjs/styles/hybrid.css" />
        <link rel="stylesheet" href="https://app.engagor.com/global/icons/engagor-icons/engagor-icons.css" />

        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Clarabridge Engage Dev Blog activity feed" />
        <style>
        /** quick fix because bootstrap <pre> has a background-color. */
        pre code { background-color: inherit; }
        </style>
                                    </head>
    <body>
    <div class="navbar-sticky menu-toggle">
        <header class="navbar-developers-bkgd ">
            <nav class="navbar-developers-container container">
                <a class="navbar-brand left" href="http://developers.engagor.com/">
                    <img src="/images/developers-logo.png" height="40">
                </a>
                <ul class="navbar-developers">
                    <li>
                        <a href="https://developers.engagor.com/" class="primary">
                            Clarabridge Development
                        </a>
                    </li>
                    <li>
                        <a href="/" class="primary active">
                            Blog
                        </a>
                    </li>
                    <li>
                        <a href="https://developers.engagor.com/documentation" class="primary <!-- if 
Notice: Array to string conversion in /data/jenkins/workspace/Dev Blog/vendor/twig/twig/lib/Twig/Environment.php(421) : eval()'d code on line 143
Array === 'documentation' -->active<!-- endif -->">
                            API Documentation
                        </a>
                    </li>
                </ul>
                <span class="dismiss en-icon en-icon-delete-3"></span>
                <a class="dev-button developers-button button-nav" href="https://www.clarabridge.com/contact/">Say Hi!</a>
                <button type="button" class="navbar-toggle">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </nav>
        </header>
    </div>
    <header class="navbar-developers-bkgd navbar-developers-title ">
            <nav class="navbar-developers-container container">
                <div class="header-developers clear">
                    <h2>Clarabridge Developers Blog</h2>
                    <h1>
                                                    <h1>Build products that connect <span class="highlight">consumer</span> questions with <span class="highlight">brand</span> answers.</h1>
                                            </h1>
                </div>
            </nav>
        </header>
        <div class="clearfix dev-container">
            <ul class="dev-sidebar-main left">
                <li class="dev-sidebar-main-nav">
                    <a href="/blog" class=>
                         Posts Archive
                    </a>
                </li>
                <li class="dev-sidebar-main-nav">
                    <a href="/blog/categories" class="">
                        Categories
                    </a>
                </li>
                <li class="dev-sidebar-main-nav">
                    <a href="/blog/tags" class="">
                        Tags
                    </a>
                </li>
                                            </ul>
            <div class="right dev-content-block">
                    <article>
        <header class="page-header">
            <h1><a href="/blog/2017/04/18/vim-ide-git">Vim As A PHP IDE - Git</a></h1>
        </header>
        <div>
            <p><strong>This blogpost is part of the "Vim As A PHP IDE" series, which starts <a href="/blog/2017/01/01/vim-ide-setting-up">here</a>.</strong></p>

<p>As developers we use Git <strong>a lot</strong>. I mean the whole time.</p>

<blockquote>
  <p>Why did I do that?</p>
</blockquote>

<p>A.k.a <code>git blame</code></p>

<blockquote>
  <p>What am I doing?</p>
</blockquote>

<p>A.k.a. <code>git status</code></p>

<blockquote>
  <p>What did I change?</p>
</blockquote>

<p>A.k.a. <code>git diff</code></p>

<blockquote>
  <p>This is why I did this!</p>
</blockquote>

<p>A.k.a. <code>git commit</code></p>

<p>I wouldn't know how to work without git anymore, and it has also found its way into my "IDE" workflow, even though I used it "purely" from the cli for a long time. Let's see how to work with git from Vim. I'm assuming you have the git binary installed on your system.</p>

<h2 id="seeing-what-changed-in-the-current-file">Seeing what changed in the current file</h2>

<p>There's this neat little plugin called <a href="https://github.com/airblade/vim-gitgutter">GitGutter</a>, which just shows you the classic <code>+</code> and <code>-</code> signs next to added and deleted code in open files. As an added bonus, it lets you jump between changed blocks of code within a file, using the <code>:GitGutterNextHunk</code> and <code>:GitGutterPrevHunk</code> commands, which you can bind to a key in your <code>.vimrc</code>, e.g.:</p>

<pre><code class="vim">" Hop from gitgutter hunk to hunk
nmap &lt;Leader&gt;v :GitGutterNextHunk&lt;CR&gt;
nmap &lt;Leader&gt;b :GitGutterPrevHunk&lt;CR&gt;
</code></pre>

<p><img src="/images/2017-04-18-vim-ide-git/git-gutter.png" alt="Git Annotations In Gutter" /></p>

<h2 id="the-real-deal">The Real Deal</h2>

<p>Using git from Vim couldn't be more intuitive (and powerful) than with <a href="http://github.com/tpope/vim-fugitive">Fugitive</a>. I do everything from Vim now.</p>

<h3 id="why-did-i-do-that%3F-%60%3Agblame%60">Why did I do that? <code>:Gblame</code></h3>

<p>Using the Fugitive <code>:Gblame</code> command, you quickly annotate the current file with <code>git blame</code> information, which lets you jump through history. From the annotation, you can just press <code>Enter</code> and see the complete commit in which that line was changed. From that commit view, you can again use <code>Enter</code> to dive in the history of that file even further, until you found what you were looking for.</p>

<p><img src="/images/2017-04-18-vim-ide-git/git-blame.png" alt="Git Blame With Fugitive" /></p>

<h3 id="what-am-i-doing%3F-%60%3Agstatus%60">What am I doing? <code>:Gstatus</code></h3>

<p>The <code>:Gstatus</code> command opens a split window in Vim, which is an interactive wrapper around the output of <code>git status</code>. From there, you can jump between files in the list using <code>&lt;C-n&gt;</code> and <code>&lt;C-p&gt;</code>, press <code>Enter</code> to open the file under cursor, and use <code>-</code> to <code>git add</code> files or <code>git reset</code> them. You can also press <code>p</code> to <code>git add --patch</code> them and see what you're doing. When you're done, you can press <code>C</code> to commit.</p>

<p><img src="/images/2017-04-18-vim-ide-git/git-status.png" alt="Git Status With Fugitive" /></p>

<h3 id="the-rest-of-git">The rest of git</h3>

<ul>
<li>Fugitive has <strong>really</strong> extensive support for resolving merge conflicts and diffing files, using Vim's built-in diff view. Here's some <a href="http://vimcasts.org/episodes/fugitive-vim-resolving-merge-conflicts-with-vimdiff/">great info about how that works</a>.</li>
<li>There's the <strong>great</strong> <code>:Gbrowse</code>, which opens the current file on GitHub (or other configurable host), and you can even use a Vim Visual mode selection and use <code>:Gbrowse</code> to directly link to those lines on GitHub.</li>
<li>There's a proxy command called <code>:Git</code> which just proxies everything to the command line git. This means you can <code>:Git pull</code> and other commands, just like you used to.</li>
</ul>

<h2 id="hotkeys">Hotkeys</h2>

<p>I created some hotkeys in <code>.vimrc</code>:</p>

<pre><code class="vim">" Git leader hotkeys
nmap &lt;Leader&gt;gs :Gstatus&lt;CR&gt;
nmap &lt;Leader&gt;gc :Gcommit&lt;CR&gt;
nmap &lt;Leader&gt;gb :Gblame&lt;CR&gt;
</code></pre>

<h2 id="wrapping-up">Wrapping up</h2>

<p>That's it really, super easy integration of git. Of course you could e.g. also integrate your current branch into your Vim statusline. Just check Fugitive's documentation! I don't feel the need for that, as I <code>:Gstatus</code> practically the whole time, and as a result, I see which branch I'm on the whole time! See you in <a href="/blog/2017/05/15/vim-ide-testing">the next episode</a>!</p>

        </div>
                    <p class="tags">
            <strong>Tags:</strong>
                        <a href="/blog/tags/Vim" class="tag">Vim</a>                        <a href="/blog/tags/PHP" class="tag">PHP</a>                        <a href="/blog/tags/IDE" class="tag">IDE</a>                        </p>
            </article>
    <article>
        <header class="page-header">
            <h1><a href="/blog/2017/04/06/emoji-conversations">Emoji as conversation enhancement</a></h1>
        </header>
        <div>
            <p>At CX Social, we use emoji extensively. 💰💭 We believe they are an enrichment of ongoing conversations, and can be used to express things that can't be expressed in a textual representation. Let's see how and where we use them 👌</p>

<h2 id="slack">Slack</h2>

<p>Our main communication form is chat. We use Slack and we just love the integration of emoji in their application! They're everywhere! 😻</p>

<p><img src="/images/2017-04-06-emoji-conversations/1.png" alt="emoji in between text in slack" /></p>

<p>Also, the "reactions" are quite handy to not mess up conversation flow with emoji only.</p>

<p><img src="/images/2017-04-06-emoji-conversations/2.png" alt="emoji reactions in slack" /></p>

<p>In full conversation, it looks a bit like this:</p>

<p><img src="/images/2017-04-06-emoji-conversations/3.png" alt="mixture of reactions in slack" /></p>

<h2 id="github">GitHub</h2>

<p>Of course, our conversations in Issues and Pull Requests on github resemble those on Slack...</p>

<p><img src="/images/2017-04-06-emoji-conversations/4.png" alt="github reviews with emoji" /></p>

<p>And in our commits, we use the <a href="http://gitmoji.carloscuesta.me/">gitmoji</a> way of prefixing commit messages with one or more semi-standardized emoji, to make it <strong>much clearer</strong> what the commit is about.</p>

<p><img src="/images/2017-04-06-emoji-conversations/5.png" alt="gitmoji in commit messages" /></p>

<h2 id="emoji-news">Emoji-news</h2>

<p>To top it off, there's a dedicated channel on our company chat for <strong>emoji-only</strong> conversation. It's called <code>#emoji-news</code>.</p>

<p><img src="/images/2017-04-06-emoji-conversations/6.png" alt="emoji news, conversations with emoji only" /></p>

<p>The great thing about all this, is that emoji really have positive vibes about them, and they work in an inspiring, encouraging way in conversations. They make you laugh, or they express a feeling that could be very difficult to express in text only. They provide context to what was said. They can be combined to create whole stories in just a few images. They work cross-language. They can be abused. It's just fantastic 😏. We are so into it, that we added 100's of our own custom emoji to slack, which in turn add much more specific things that we could express (you can find some of them in the screenshots above). If you're looking for custom emoji, <a href="http://slackmojis.com">Slackmojis</a> is a great place to start looking.</p>

<p><img src="/images/2017-04-06-emoji-conversations/7.png" alt="a small part of our custom emoji on slack" /></p>

<p>Do you use emoji differently? Do you have tips for us? Let us know 📯</p>

<p>Have a great day! ☕️</p>

        </div>
                    <p class="tags">
            <strong>Tags:</strong>
                        <a href="/blog/tags/Emoji" class="tag">Emoji</a>                        <a href="/blog/tags/Git" class="tag">Git</a>                        <a href="/blog/tags/Slack" class="tag">Slack</a>                        </p>
            </article>
    <article>
        <header class="page-header">
            <h1><a href="/blog/2017/04/03/how-to-edit-commit-description">How to edit a commit message</a></h1>
        </header>
        <div>
            <p>We use GitHub for hosting the code, and issue tracker behind CX Social. As you may already know, you can close issues automatically by adding <code>Closes #issue</code> to a commit message and merging it in the master branch. This is great because I always forget to close the fixed issue (it's also great for cross-linking between issues and commits).</p>

<p>But what if you forgot to add <code>Closes #issue</code> to your commit? Let me teach you a trick to edit a commit message.</p>

<p>Let's make a new directory to test it.</p>

<pre><code class="sh">$ mkdir demo-git-edit
$ cd demo-git-edit
$ git init
Initialized empty Git repository in /Users/hansott/Code/demo-git-edit/.git/
</code></pre>

<p>Okay great. We've got our repository ready. Let's add a file.</p>

<pre><code class="sh">$ touch app.js
</code></pre>

<p>Then add the following contents:</p>

<pre><code class="js">throw new Error('This is a bug!');
</code></pre>

<pre><code class="sh">$ git add app.js
$ git commit -m "Add bug"
[master (root-commit) 308c96d] Add bug
 1 file changed, 1 insertion(+)
 create mode 100644 app.js
</code></pre>

<p>Let's fix the bug by removing it.</p>

<pre><code class="sh">$ echo &gt; app.js
$ git diff
diff --git a/app.js b/app.js
index 128b630..8b13789 100644
--- a/app.js
+++ b/app.js
@@ -1 +1 @@
-throw new Error('This is a bug!');
+
$ git add app.js
$ git commit -m "Fixed bug"
$ git log
* 83ac3a3 Fixed bug
* 308c96d Add bug
</code></pre>

<p>There you go. We forgot <code>Closes #issue</code>. What can we do about it? It's important that you don't push (otherwise you'll have to use <code>--force</code> and you should <strong>never</strong> do that).</p>

<p>If you want to edit your last commit you can use:</p>

<pre><code class="sh">$ git commit --amend -m "Fixed bug" -m "Closes #issue"
[master f27a1ca] Fixed bug
 Date: Wed Feb 1 12:31:29 2017 +0100
 1 file changed, 1 insertion(+), 1 deletion(-)
</code></pre>

<p>You should consider committing with <code>$ git commit --amend</code>. It opens a proper text editor (like <a href="http://vim.sourceforge.net/">vim</a>) to write a comprehensive message (instead of using <code>-m "message"</code>). Did you notice I used <code>-m</code> twice? You can read about it in <a href="/blog/2017/01/24/some-tips-for-a-better-git-history/">Some tips for a better Git history</a>.</p>

<pre><code class="sh">$ git show f27a1ca
ommit f27a1caac3ee33ac3b0ef81040cd2c2f877f13f4
Author: Hans Ott &lt;hans.ott@clarabridge.be&gt;
Date:   Wed Feb 1 12:31:29 2017 +0100

    Fixed bug

    Closes #issue

diff --git a/app.js b/app.js
index 128b630..8b13789 100644
--- a/app.js
+++ b/app.js
@@ -1 +1 @@
-throw new Error('This is a bug!');
+
</code></pre>

<p>Hooray! We did it. What if we added other commits before we realised we forgot? <a href="https://git-scm.com/book/tr/v2/Customizing-Git-Git-Configuration">I'll assume you got a decent text editor configured for git</a>.</p>

<pre><code class="sh">$ git log
* 889da98 Add leftpad
* b1b364c Add library
* 05e664c Fixed bug
* 308c96d Add bug
</code></pre>

<p>We added 2 commits after our bug fix commit. Since <code>$ git commit --amend</code> can only change the last commit, we can't use it. Luckily, we know the secret behind the curtain: it's doing a git rebase of the last commit. Let's use git rebase for great good! Again, be careful, this won't work if you already pushed your work (you can inspect with <code>$ git log --decorate</code>).</p>

<pre><code class="sh">$ git rebase -i 308c96d  # use the commit JUST before the bug fix commit
</code></pre>

<pre><code>.g/r/git-rebase-todo
pick 05e664c Fixed bug
pick b1b364c Add library
pick 889da98 Add leftpad

# Rebase 308c96d..889da98 onto 308c96d (3 commands)
#
# Commands:
# p, pick = use commit
# r, reword = use commit, but edit the commit message
# e, edit = use commit, but stop for amending
# s, squash = use commit, but meld into previous commit
# f, fixup = like "squash", but discard this commit's log message
# x, exec = run command (the rest of the line) using shell
# d, drop = remove commit
#
# These lines can be re-ordered; they are executed from top to  bottom.
#
# If you remove a line here THAT COMMIT WILL BE LOST.
#
# However, if you remove everything, the rebase will be aborted.
#
# Note that empty commits are commented out
</code></pre>

<p>You'll have to replace <code>pick</code> before <code>05e664c Fixed bug</code> with <code>reword</code> and save it. Git will show the commit(s) you selected so you can edit it and save it.</p>

<pre><code>.g/COMMIT_EDITMSG
Fixed bug

Closes #issue
# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
#
# Date: Wed Feb 1 12:31:29 2017 +0100
#
# interactive rebase in progress; onto 308c96d
# Last command done (1 command done):
#    reword 05e664c Fixed bug
# Next commands to do (2 remaining commands):
#    pick b1b364c Add library
#    pick 889da98 Add leftpad
# You are currently editing a commit while rebasing branch 'master' on '308c96d'.
#
# Changes to be committed:
#       modified:   app.js
</code></pre>

<pre><code class="sh">$ git rebase -i 308c96d
[detached HEAD 4225a9a] Fixed bug
 Date: Wed Feb 1 12:31:29 2017 +0100
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully rebased and updated refs/heads/master.
</code></pre>

<pre><code class="sh">$ git show 308c96d
commit 4225a9a3eb74b42772297a2f4b67b58696e11410
Author: Hans Ott &lt;hans.ott@clarabridge.be&gt;
Date:   Wed Feb 1 12:31:29 2017 +0100

    Fixed bug

    Closes #issue

diff --git a/app.js b/app.js
index 128b630..8b13789 100644
--- a/app.js
+++ b/app.js
@@ -1 +1 @@
-throw new Error('This is a bug!');
+
</code></pre>

<p>Hooray! We did it again. Now pat yourself on the back.</p>

        </div>
                    <p class="tags">
            <strong>Tags:</strong>
                        <a href="/blog/tags/Git" class="tag">Git</a>                        </p>
            </article>
    <nav class="pager">
        <a href="/page/14" class="left">Newer Posts</a>        <a href="/page/16" class="right">Older Posts</a>    </nav>
            </div>
        </div>
        <footer class="dev-container">
            <div class="dev-content-block">
                <div class="left">
                    &copy;2019 Clarabridge&reg;. All rights reserved.
                </div>
                <div class="right">
                    <strong>Stay Connected</strong>
                    <a href="https://twitter.com/clarabridgedev" target="blank"><span class="en-icon en-icon-twitter-square"></span></a>
                    <a href="https://www.facebook.com/clarabridgedev/" target="blank"><span class="en-icon en-icon-facebook-square"></span></a>
                    <a href="https://www.instagram.com/clarabridgedev/" target="blank"><span class="en-icon en-icon-instagram"></span></a>
                </div>
            </div>
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/components/jquery/jquery.min.js"><\/script>')</script>
        <script src="/components/bootstrap/js/bootstrap.min.js"></script>
        <script src="/js/main.js"></script>
        
                
        
        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-105312561-1', 'auto');
            ga('send', 'pageview');
        </script>
                <script src="/components/highlightjs/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

                    </body>
</html>
